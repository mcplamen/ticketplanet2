<script>
  import { onMount } from "svelte";

  let username = "";
  let isLoggedIn = false;

  onMount(() => {
    const token = localStorage.getItem("token");
    if (token) {
      isLoggedIn = true;
      // –º–æ–∂–µ—à –¥–∞ –¥–µ–∫–æ–¥–∏—Ä–∞—à token –∑–∞ –¥–∞ –ø–æ–∫–∞–∂–µ—à –∏–º–µ, –Ω–æ –∑–∞—Å–µ–≥–∞ –≥–æ –æ—Å—Ç–∞–≤—è–º–µ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–Ω–∞—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
    }
  });

  function logout() {
    localStorage.removeItem("token");
    window.location.href = "/login";
  }
</script>

{#if isLoggedIn}
<header class="header">
  <div class="logo">
    üé´ TicketPlanet
  </div>

  <nav class="nav">
    <a href="/events">–°—ä–±–∏—Ç–∏—è</a>
    <a href="/create-event">–°—ä–∑–¥–∞–π —Å—ä–±–∏—Ç–∏–µ</a>
    <button on:click={logout}>–ò–∑—Ö–æ–¥</button>
  </nav>
</header>
{/if}

<style>
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #20232a;
  color: white;
  padding: 0.75rem 1.5rem;
}
.logo {
  font-size: 1.2rem;
  font-weight: bold;
}
.nav {
  display: flex;
  gap: 1rem;
  align-items: center;
}
a {
  color: white;
  text-decoration: none;
  font-weight: 500;
}
a:hover {
  text-decoration: underline;
}
button {
  background: #e63946;
  color: white;
  border: none;
  padding: 0.4rem 0.8rem;
  border-radius: 4px;
  cursor: pointer;
}
button:hover {
  background: #ff5252;
}
</style>
